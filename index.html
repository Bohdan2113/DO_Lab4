<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Transportation Problem Solver (Potential Method)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles/style.css" />
  </head>
  <body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
      <h1 class="text-3xl font-extrabold text-gray-900 mb-6">
        ⚙️ Transportation Problem Solver
      </h1>

      <!-- Input Section -->
      <div class="card p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">
          Input Data
        </h2>

        <!-- JSON Loader -->
        <div
          class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4 mb-6"
        >
          <label
            for="json-upload"
            class="bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg cursor-pointer transition shadow-md w-full md:w-auto text-center"
          >
            Load .JSON
          </label>
          <input type="file" id="json-upload" accept=".json" class="hidden" />
          <span
            id="file-status"
            class="text-sm text-gray-500 truncate w-full md:w-auto"
            >Or enter data manually below:</span
          >
        </div>

        <!-- Matrix Input Table -->
        <div id="matrix-container" class="overflow-x-auto">
          <!-- Table will be generated here by JS -->
        </div>

        <div class="flex justify-end mt-4 space-x-4">
          <button
            id="add-supplier"
            class="bg-gray-200 hover:bg-gray-300 text-gray-800 py-1 px-3 rounded-lg text-sm transition"
          >
            + Supplier
          </button>
          <button
            id="add-consumer"
            class="bg-gray-200 hover:bg-gray-300 text-gray-800 py-1 px-3 rounded-lg text-sm transition"
          >
            + Consumer
          </button>
        </div>

        <div class="mt-6 flex justify-center">
          <button
            id="solve-button"
            class="bg-red-600 hover:bg-red-700 text-white text-lg font-bold py-3 px-8 rounded-xl transition transform hover:scale-[1.02] shadow-xl"
          >
            Solve Problem
          </button>
        </div>
      </div>

      <!-- Output Section -->
      <div id="output-container" class="mt-8">
        <!-- Solution steps will be displayed here -->
        <div id="initial-message" class="card p-6 text-center text-gray-500">
          Click "Solve Problem" to see the step-by-step solution.
        </div>
      </div>

      <!-- Message Box (Non-alert replacement) -->
      <div
        id="message-box"
        class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center z-50"
      >
        <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full">
          <h3 id="message-title" class="text-xl font-bold mb-3 text-red-600">
            Input Error
          </h3>
          <p id="message-body" class="text-gray-700 mb-4">
            Check the entered data.
          </p>
          <button
            class="bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg w-full transition"
          >
            Close
          </button>
        </div>
      </div>
    </div>

    <script type="module" src="js/main.js"></script>
  </body>
</html>
